---
import { getEntry, render } from 'astro:content';
import Base from '../layouts/Base.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const topPage = await getEntry('articles', 'home');
const { Content } = topPage ? await render(topPage) : { Content: null };
const base = import.meta.env.BASE_URL.replace(/\/$/, '');
---

<Base
  title="全国Q地図"
  description="地理院地図を拡張した、各種地形図・地図情報の統合閲覧サイト"
>
  <Header />
  <main>
    <div class="top-content">
      {Content ? <Content /> : <p>コンテンツが見つかりません。</p>}
    </div>
    <p class="articles-link">
      <a href={`${base}/pages`}>Q地図について</a>　|　<a href={`${base}/guides`}
        >ガイド一覧</a
      >　|　<a href={`${base}/posts`}>ブログ一覧</a>
    </p>
  </main>
  <Footer />
</Base>

<style>
  .top-content {
    line-height: 1.8;
  }

  .top-content :global(img) {
    margin: 0.5rem 0;
  }

  .articles-link {
    margin-top: 2rem;
    padding-top: 1rem;
    border-top: 1px solid #eee;
    font-size: 0.875rem;
    color: #999;
  }
</style>
