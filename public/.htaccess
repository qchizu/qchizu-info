RewriteEngine On

# ===== 投稿（posts）: /YYYY/MM/DD/{slug}/ 形式 =====
# リダイレクト先はqchizu.jp/info/配下の絶対パス
RewriteRule ^2025/03/30/gdal2nptiles/?$ /info/making-elevation-tiles/ [R=301,L]
RewriteRule ^how-to-make-elevation-tiles/?$ /info/making-elevation-tiles/ [R=301,L]
RewriteRule ^2025/03/15/rinya-elevation-tiles/?$ /info/rinya-elevation-tiles/ [R=301,L]
RewriteRule ^2024/12/29/elevation-tile/?$ /info/elevation-tile/ [R=301,L]
RewriteRule ^2024/11/11/foss4g2024/?$ /info/foss4g2024/ [R=301,L]
RewriteRule ^2024/06/15/cs/?$ /info/cs-parameter/ [R=301,L]
RewriteRule ^2024/06/09/delete/?$ /info/ [R=301,L]
RewriteRule ^2024/06/09/latlng/?$ /info/latlng-precision/ [R=301,L]
RewriteRule ^2024/06/09/zushiki/?$ /info/chiriin-map-symbol-update/ [R=301,L]

# ===== 固定ページ（pages）: 階層構造 =====
RewriteRule ^qchizu/?$ /info/about/ [R=301,L]
RewriteRule ^qchizu/tile/?$ /info/guides/ [R=301,L]
RewriteRule ^qchizu/tile/rrim/?$ /info/rrim-cs-viewer/ [R=301,L]
RewriteRule ^qchizu/tile/shinrinkihonzu/?$ /info/forest-basemap/ [R=301,L]
RewriteRule ^qchizu/tile/tokyo3000/?$ /info/tokyo-topographic-map/ [R=301,L]
RewriteRule ^qchizu/tile/tool-contour/?$ /info/tool-contour/ [R=301,L]
RewriteRule ^qchizu/tile/mlit_road/?$ /info/road-structures/ [R=301,L]
RewriteRule ^qchizu/tile/bus-stop/?$ /info/bus-stop/ [R=301,L]
RewriteRule ^qchizu/tile/tile-pond/?$ /info/tile-pond/ [R=301,L]
RewriteRule ^qchizu/maplibre_terrain/?$ /info/maplibre-viewer/ [R=301,L]
RewriteRule ^qchizu/26p_kyoto_f/?$ /info/kyoto-forest-map-correction/ [R=301,L]
RewriteRule ^qchizu/update/?$ /info/update/ [R=301,L]
RewriteRule ^qchizu/improve/?$ /info/minna/ [R=301,L]
RewriteRule ^qchizu/case/?$ /info/use-cases/ [R=301,L]
RewriteRule ^qchizu/reprint/?$ /info/reprint/ [R=301,L]
RewriteRule ^qchizu/%E5%85%A8%E5%9B%BDQ%E5%9C%B0%E5%9B%B3%E3%81%AE%E6%A9%9F%E8%83%BD/?$ /info/guides/ [R=301,L]
RewriteRule ^qchizu/%E5%85%A8%E5%9B%BDQ%E5%9C%B0%E5%9B%B3%E3%81%AE%E6%A9%9F%E8%83%BD/stereo/?$ /info/stereo-viewing/ [R=301,L]
RewriteRule ^knowledge/?$ /info/posts/ [R=301,L]
RewriteRule ^knowledge/lat_lon/?$ /info/latlng-precision/ [R=301,L]
RewriteRule ^knowledge/knowledge-delite-tiles/?$ /info/ [R=301,L]
RewriteRule ^mail/?$ /info/about/ [R=301,L]
RewriteRule ^portfolio-yvftw29nsgyt6dpzzxnk/?$ /info/ [R=301,L]

# ===== WordPress画像ファイルのリダイレクト =====
RewriteRule ^wp-content/uploads/.*/([^/]+)$ /info/images/$1 [R=301,L]

# ===== WordPressクエリパラメーター形式のリダイレクト =====
RewriteCond %{QUERY_STRING} ^p=
RewriteRule ^$ /info/ [R=301,QSD,L]

# ===== WordPress特有のURLを410 Goneで返す =====
RewriteRule ^wp-admin(/.*)?$ - [R=410,L]
RewriteRule ^wp-login\.php$ - [R=410,L]
RewriteRule ^xmlrpc\.php$ - [R=410,L]
RewriteRule ^wp-json(/.*)?$ - [R=410,L]
RewriteRule ^feed(/.*)?$ - [R=410,L]
